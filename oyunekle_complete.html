<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Oyun Ekle - Zenith</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="demotasarim.css">
    <link rel="stylesheet" href="https://unpkg.com/dropzone@5/dist/min/dropzone.min.css" />
    <style>
        .dropzone {
            background: linear-gradient(135deg, rgba(30, 30, 30, 0.8) 0%, rgba(26, 26, 26, 0.8) 100%);
            border: 2px dashed rgba(255, 255, 255, 0.12) !important;
            border-radius: 0.5rem;
            padding: 2rem;
            min-height: 200px;
            cursor: pointer;
            transition: all 0.3s;
        }
        .dropzone:hover { border-color: rgba(220, 38, 38, 0.5) !important; }
        .dropzone.dz-drag-hover { border-color: var(--primary) !important; }
        .upload-section { margin-bottom: 2rem; }
        .upload-section-title { font-size: 1rem; font-weight: 600; margin-bottom: 0.5rem; }
        .upload-section-description { font-size: 0.75rem; color: var(--muted-foreground); margin-bottom: 0.75rem; }
    </style>
</head>
<body>
    <div class="app-container">
        <button class="menu-toggle" onclick="toggleSidebar()">‚ò∞</button>
        
        <aside class="sidebar" id="sidebar">
            <div class="logo-section">
                <div class="logo-content">
                    <div class="logo-icon">
                        <img src="server/static/images/PanelLogo.png" alt="Zenith Logo">
                    </div>
                    <div class="logo-subtitle">Yeni Nesil Oyun Men√ºs√º</div>
                </div>
            </div>
            <nav class="nav">
                <div class="nav-group">
                    <a href="demotasarim.html" class="nav-item">
                        <span class="nav-item-icon"><svg viewBox="0 0 24 24"><rect x="3" y="3" width="7" height="7"/></svg></span>
                        <span>G√∂sterge Paneli</span>
                    </a>
                </div>
                <div class="nav-group">
                    <div class="nav-group-title" onclick="toggleCategory(this)">
                        <span>Oyun Y√∂netimi</span>
                        <span class="nav-group-toggle">‚àí</span>
                    </div>
                    <div class="nav-group-items">
                        <a href="oyunlistesi.html" class="nav-item">
                            <span class="nav-item-icon"><svg viewBox="0 0 24 24"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/></svg></span>
                            <span>Oyun Listesi</span>
                        </a>
                        <a href="oyunekle.html" class="nav-item active">
                            <span class="nav-item-icon"><svg viewBox="0 0 24 24"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg></span>
                            <span>Oyun Ekle</span>
                        </a>
                    </div>
                </div>
            </nav>
            <div class="user-profile">
                <div class="user-content">
                    <div class="user-avatar">AD</div>
                    <div class="user-info">
                        <div class="user-name">Admin</div>
                        <div class="user-email">admin@zenith.com</div>
                    </div>
                </div>
            </div>
        </aside>

        <main class="main-content">
            <div class="content-wrapper">
                <div class="page-header">
                    <h1 class="page-title">Oyun Ekle</h1>
                    <p class="page-description">Yeni bir oyun ekleyin ve detaylarƒ±nƒ± d√ºzenleyin</p>
                </div>

                <div class="tabs-container" style="background: linear-gradient(135deg, rgba(26, 26, 26, 0.95) 0%, rgba(30, 30, 30, 0.95) 100%); border: 1px solid rgba(255, 255, 255, 0.08); border-radius: 0.5rem; margin-bottom: 2rem;">
                    <div class="tabs-header" style="display: flex; border-bottom: 1px solid rgba(255, 255, 255, 0.08);">
                        <button class="tab-btn active" onclick="switchTab('temel-bilgiler')">Temel Bilgiler</button>
                        <button class="tab-btn" onclick="switchTab('gorsel-yonetimi')">G√∂rsel Y√∂netimi</button>
                        <button class="tab-btn" onclick="switchTab('calistirma-ayarlari')">√áalƒ±≈ütƒ±rma Ayarlarƒ±</button>
                    </div>

                    <div class="tab-content" style="padding: 2rem;">
                        <!-- Temel Bilgiler -->
                        <div id="temel-bilgiler" class="tab-pane active" style="display: block;">
                            <h2>Temel Bilgiler</h2>
                            <p>Oyun temel bilgileri buraya gelecek...</p>
                        </div>

                        <!-- G√∂rsel Y√∂netimi -->
                        <div id="gorsel-yonetimi" class="tab-pane" style="display: none;">
                            <h2 style="margin-bottom: 1.5rem;">G√∂rsel Y√∂netimi</h2>
                            
                            <div class="upload-section">
                                <h3 class="upload-section-title">Kapak G√∂rseli <span style="color: var(--primary);">*</span></h3>
                                <p class="upload-section-description">Oyunun ana kapak g√∂rselini y√ºkleyin (1920x1080, Max: 5MB)</p>
                                <form action="/upload-cover" class="dropzone" id="coverDropzone">
                                    <div class="dz-message">
                                        <span style="font-size: 3rem; display: block; margin-bottom: 1rem;">üìÅ</span>
                                        <span style="display: block; margin-bottom: 0.5rem;">Kapak g√∂rselini s√ºr√ºkleyin veya tƒ±klayƒ±n</span>
                                        <span style="font-size: 0.75rem; opacity: 0.7;">PNG, JPG, WEBP (Max: 5MB)</span>
                                    </div>
                                </form>
                            </div>

                            <div class="upload-section">
                                <h3 class="upload-section-title">Galeri G√∂rselleri</h3>
                                <p class="upload-section-description">Oyun i√ßin birden fazla ekran g√∂r√ºnt√ºs√º y√ºkleyin (Max: 10, her biri 5MB)</p>
                                <form action="/upload-gallery" class="dropzone" id="galleryDropzone">
                                    <div class="dz-message">
                                        <span style="font-size: 3rem; display: block; margin-bottom: 1rem;">üñºÔ∏è</span>
                                        <span style="display: block; margin-bottom: 0.5rem;">Galeri g√∂rsellerini s√ºr√ºkleyin veya tƒ±klayƒ±n</span>
                                        <span style="font-size: 0.75rem; opacity: 0.7;">PNG, JPG, WEBP (Max: 5MB her biri)</span>
                                    </div>
                                </form>
                            </div>
                        </div>

                        <!-- √áalƒ±≈ütƒ±rma Ayarlarƒ± -->
                        <div id="calistirma-ayarlari" class="tab-pane" style="display: none;">
                            <h2>√áalƒ±≈ütƒ±rma Ayarlarƒ±</h2>
                            <p>Oyun √ßalƒ±≈ütƒ±rma ayarlarƒ± buraya gelecek...</p>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="https://unpkg.com/dropzone@5/dist/min/dropzone.min.js"></script>
    <script>
        function toggleSidebar() {
            document.getElementById('sidebar').classList.toggle('open');
        }

        function toggleCategory(element) {
            const items = element.nextElementSibling;
            const toggle = element.querySelector('.nav-group-toggle');
            items.classList.toggle('collapsed');
            toggle.textContent = items.classList.contains('collapsed') ? '+' : '‚àí';
        }

        function switchTab(tabId) {
            document.querySelectorAll('.tab-pane').forEach(pane => pane.style.display = 'none');
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            document.getElementById(tabId).style.display = 'block';
            event.target.classList.add('active');
        }

        // Dropzone initialization
        Dropzone.autoDiscover = false;

        const coverDropzone = new Dropzone("#coverDropzone", {
            url: "/upload-cover",
            maxFiles: 1,
            maxFilesize: 5,
            acceptedFiles: "image/png,image/jpeg,image/jpg,image/webp",
            addRemoveLinks: true,
            dictDefaultMessage: "",
            dictRemoveFile: "Kaldƒ±r",
            init: function() {
                this.on("addedfile", function(file) {
                    if (this.files.length > 1) this.removeFile(this.files[0]);
                });
            }
        });

        const galleryDropzone = new Dropzone("#galleryDropzone", {
            url: "/upload-gallery",
            maxFiles: 10,
            maxFilesize: 5,
            acceptedFiles: "image/png,image/jpeg,image/jpg,image/webp",
            addRemoveLinks: true,
            dictDefaultMessage: "",
            dictRemoveFile: "Kaldƒ±r"
        });
    </script>
</body>
</html>
