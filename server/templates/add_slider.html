{% extends 'base_admin.html' %}

{% block title %}Yeni Slider Ekle{% endblock %}

{% block content %}
    <header class="header">
        <h1 class="page-title-with-icon">
            <i class="fas fa-plus-circle"></i>
            Yeni Slider Ekle
        </h1>
        <div class="header-actions">
            <a href="{{ url_for('manage_sliders') }}" class="btn btn-secondary">
                <i class="fas fa-arrow-left"></i> Geri DÃ¶n
            </a>
        </div>
    </header>

    <div class="card full-width">
        <div class="card-header">
            <h2>Slider Ä°Ã§eriÄŸi</h2>
        </div>
        <div class="card-body">
            <form method="POST" enctype="multipart/form-data" id="slider-form">
                <div class="form-grid">
                    <div class="form-group full-width">
                        <label for="game_search_input">Ã–ne Ã‡Ä±karÄ±lacak Oyun:</label>
                        <div class="search-select-container">
                            <input type="text" id="game_search_input" placeholder="Oyun adÄ±nÄ± yazarak ara..." autocomplete="off">
                            <input type="hidden" name="game_id" id="game_id_hidden">
                            <div id="game_search_results" class="search-select-results"></div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="badge_text">Rozet:</label>
                        <select name="badge_text" id="badge_text">
                            <option value="ðŸ”¥ POPÃœLER">ðŸ”¥ POPÃœLER</option>
                            <option value="âœ¨ YENÄ° OYUN">âœ¨ YENÄ° OYUN</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="title">BaÅŸlÄ±k:</label>
                        <input type="text" name="title" id="title" required>
                    </div>
                    <div class="form-group full-width">
                        <label for="description">AÃ§Ä±klama:</label>
                        <textarea name="description" id="description" rows="3"></textarea>
                    </div>

                    <div class="form-group full-width">
                        <label for="background_image_input">Arkaplan Resmi (Ã–nerilen: 1920x1080):</label>
                        <div class="custom-file-input-wrapper">
                            <input type="file" name="background_image" id="background_image_input" class="file-input" accept="image/jpeg, image/png, image/webp" required>
                            <label for="background_image_input" class="btn btn-secondary">Dosya SeÃ§...</label>
                            <span class="file-name" id="background_image_name">Dosya seÃ§ilmedi</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="display_order">GÃ¶sterim SÄ±rasÄ±:</label>
                        <input type="number" name="display_order" id="display_order" value="0">
                    </div>
                     <div class="form-group">
                        <label for="is_active">Aktif Mi?</label>
                        <input type="checkbox" name="is_active" id="is_active" checked style="width: 20px; height: 20px;">
                    </div>
                </div>

                <button type="submit" class="btn btn-primary" style="width: 100%; margin-top: 20px;">
                    <i class="fas fa-plus"></i>
                    Slider Ekle
                </button>
            </form>
        </div>
    </div>
{% endblock %}

{% block scripts %}
    <script>
        const games = [
            {% for game in games %}
                { id: {{ game.id }}, name: {{ game.oyun_adi|tojson }} },
            {% endfor %}
        ];
        // rest of the script
    </script>
{% endblock %}